<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Client</title>
    <script>
        const product = {
            "id": 1,
            "title": "Компьютерная мышь",
            "price": 400,
            "count": 5
        };

        document.addEventListener('DOMContentLoaded', () => {
            const btnGet = document.querySelector('.get');
            btnGet.addEventListener('click', async () => {
                const data = await fetch('/cart', {
                    method: 'GET',
                });

                console.log(await data.text());
            });

            const btnAdd = document.querySelector('.add');
            btnAdd.addEventListener('click', async () => {
                const data = await fetch('/cart', {
                    method: 'POST',
                    body: JSON.stringify(product),
                    headers: {
                        'Content-type': 'application/json',
                    },
                });

                console.log(data);
            });

            const btnChange = document.querySelector('.change');
            btnChange.addEventListener('click', async () => {
                const data = await fetch(`/cart/${product.id}`, {
                    method: 'PATCH',
                    body: JSON.stringify({count: product.count + 1}),
                    headers: {
                        'Content-type': 'application/json',
                    },
                });

                console.log(data);
            });

            const btnDelete = document.querySelector('.delete');
            btnDelete.addEventListener('click', async () => {
                const data = await fetch(`/cart/${product.id}`, {
                    method: 'DELETE',
                });

                console.log(data);
            });
        });
    </script>
</head>
<body>
    <button class="get">get</button>
    <button class="add">Добавить товар в корзину</button>
    <button class="change">Изменить количество</button>
    <button class="delete">Удалить</button>
</body>
</html>
